import{X as n,Y as L,d as P,ab as v,Z as V,ac as E,f as j,s,q as e,u as a,e as k,l as i,ad as B,ae as D,v as o,A as F,a3 as _,a4 as f,a5 as m,a6 as p,S as g,m as w,a7 as x,af as N,_ as z,D as A,E as C,t as M,z as T}from"./index-xnGBk728.js";const q=n.object({email:n.string().email(),password:n.string().min(8,{message:"Password must be at least 8 characters long."})}),U=L(q),X={class:"h-screen flex justify-center items-center"},Y=i("span",null," Login ",-1),H=P({__name:"LoginView",setup(Z){const h=v(),{isPending:r,isError:b,error:S,mutateAsync:$}=h.useLoginMutation(),{handleSubmit:y}=V({validationSchema:U}),c=y(async u=>{const{email:l,password:t}=u,d=await $({username:l,password:t});d.status===200&&d.data.token&&E.push("/")});return(u,l)=>(k(),j("div",X,[s(a(T),{class:"w-[350px]"},{default:e(()=>[i("form",{onSubmit:l[0]||(l[0]=(...t)=>a(c)&&a(c)(...t))},[s(a(B),{class:"text-center"},{default:e(()=>[s(a(D),null,{default:e(()=>[o("Login Form")]),_:1})]),_:1}),s(a(F),{class:"flex flex-col gap-4"},{default:e(()=>[s(a(_),{name:"email"},{default:e(({componentField:t})=>[s(a(f),null,{default:e(()=>[s(a(m),null,{default:e(()=>[o("Email")]),_:1}),s(a(p),null,{default:e(()=>[s(a(g),w({type:"text",placeholder:"Please input email"},t),null,16)]),_:2},1024),s(a(x))]),_:2},1024)]),_:1}),s(a(_),{name:"password"},{default:e(({componentField:t})=>[s(a(f),null,{default:e(()=>[s(a(m),null,{default:e(()=>[o("Password")]),_:1}),s(a(p),null,{default:e(()=>[s(a(g),w({type:"password",placeholder:"Please input Password"},t),null,16)]),_:2},1024),s(a(x))]),_:2},1024)]),_:1})]),_:1}),s(a(N),{class:"flex flex-col gap-4 justify-between px-6 pb-4"},{default:e(()=>[s(a(z),{class:"w-full",disabled:a(r),isLoading:a(r)},{default:e(()=>[Y]),_:1},8,["disabled","isLoading"]),A(i("p",{class:"text-center text-red-400 font-bold"},M(a(S)),513),[[C,a(b)]])]),_:1})],32)]),_:1})]))}});export{H as default};
