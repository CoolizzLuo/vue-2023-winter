import{I as l,J as L,d as P,a3 as V,K as j,a4 as v,f as E,i as s,w as e,u as a,o as k,j as i,a5 as B,a6 as F,x as o,a7 as N,R as _,S as m,U as f,W as p,_ as g,m as w,X as x,a8 as C,E as D,Y as M,Z as T,H as U,a9 as z}from"./index-imJGrUmh.js";const A=l.object({email:l.string().email(),password:l.string().min(8,{message:"Password must be at least 8 characters long."})}),H=L(A),I={class:"h-screen flex justify-center items-center"},J=i("span",null," Login ",-1),W=P({__name:"LoginView",setup(K){const h=V(),{isPending:r,isError:b,error:S,mutateAsync:$}=h.useLoginMutation(),{handleSubmit:y}=j({validationSchema:H}),c=y(async u=>{const{email:n,password:t}=u,d=await $({username:n,password:t});d.status===200&&d.data.token&&v.push("/admin")});return(u,n)=>(k(),E("div",I,[s(a(z),{class:"w-[350px]"},{default:e(()=>[i("form",{onSubmit:n[0]||(n[0]=(...t)=>a(c)&&a(c)(...t))},[s(a(B),{class:"text-center"},{default:e(()=>[s(a(F),null,{default:e(()=>[o("Login Form")]),_:1})]),_:1}),s(a(N),{class:"flex flex-col gap-4"},{default:e(()=>[s(a(_),{name:"email"},{default:e(({componentField:t})=>[s(a(m),null,{default:e(()=>[s(a(f),null,{default:e(()=>[o("Email")]),_:1}),s(a(p),null,{default:e(()=>[s(a(g),w({type:"text",placeholder:"Please input email"},t),null,16)]),_:2},1024),s(a(x))]),_:2},1024)]),_:1}),s(a(_),{name:"password"},{default:e(({componentField:t})=>[s(a(m),null,{default:e(()=>[s(a(f),null,{default:e(()=>[o("Password")]),_:1}),s(a(p),null,{default:e(()=>[s(a(g),w({type:"password",placeholder:"Please input Password"},t),null,16)]),_:2},1024),s(a(x))]),_:2},1024)]),_:1})]),_:1}),s(a(C),{class:"flex flex-col gap-4 justify-between px-6 pb-4"},{default:e(()=>[s(a(D),{class:"w-full",disabled:a(r),isLoading:a(r)},{default:e(()=>[J]),_:1},8,["disabled","isLoading"]),M(i("p",{class:"text-center text-red-400 font-bold"},U(a(S)),513),[[T,a(b)]])]),_:1})],32)]),_:1})]))}});export{W as default};
