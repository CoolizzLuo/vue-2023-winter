var it=(a,t,e)=>{if(!t.has(a))throw TypeError("Cannot "+e)};var s=(a,t,e)=>(it(a,t,"read from private field"),e?e.call(a):t.get(a)),o=(a,t,e)=>{if(t.has(a))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(a):t.set(a,e)},c=(a,t,e,i)=>(it(a,t,"write to private field"),i?i.call(a,e):t.set(a,e),e);var d=(a,t,e)=>(it(a,t,"access private method"),e);import{a2 as Ut,a3 as rt,a4 as Tt,a5 as yt,a6 as gt,a7 as Qt,a8 as Ft,a9 as It,aa as _t,ab as Et,$ as xt,z as Dt,ac as $t,ad as kt,w as Y,ae as vt,af as At,ag as Mt,ah as Pt,ai as Lt,d as w,e as S,f as U,l as Bt,g as $,j as T,u as Q,k as F}from"./index-5nvEIq2G.js";var b,n,K,p,I,M,R,W,P,L,E,x,C,B,D,z,N,nt,V,ot,H,ct,q,ht,G,lt,J,ut,X,dt,Z,wt,Ct,jt=(Ct=class extends Ut{constructor(t,e){super();o(this,D);o(this,N);o(this,V);o(this,H);o(this,q);o(this,G);o(this,J);o(this,X);o(this,Z);o(this,b,void 0);o(this,n,void 0);o(this,K,void 0);o(this,p,void 0);o(this,I,void 0);o(this,M,void 0);o(this,R,void 0);o(this,W,void 0);o(this,P,void 0);o(this,L,void 0);o(this,E,void 0);o(this,x,void 0);o(this,C,void 0);o(this,B,new Set);this.options=e,c(this,b,t),c(this,R,null),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(s(this,n).addObserver(this),Rt(s(this,n),this.options)?d(this,D,z).call(this):this.updateResult(),d(this,q,ht).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ft(s(this,n),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ft(s(this,n),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,d(this,G,lt).call(this),d(this,J,ut).call(this),s(this,n).removeObserver(this)}setOptions(t,e){const i=this.options,f=s(this,n);if(this.options=s(this,b).defaultQueryOptions(t),rt(i,this.options)||s(this,b).getQueryCache().notify({type:"observerOptionsUpdated",query:s(this,n),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),d(this,X,dt).call(this);const r=this.hasListeners();r&&Ot(s(this,n),f,this.options,i)&&d(this,D,z).call(this),this.updateResult(e),r&&(s(this,n)!==f||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&d(this,N,nt).call(this);const l=d(this,V,ot).call(this);r&&(s(this,n)!==f||this.options.enabled!==i.enabled||l!==s(this,C))&&d(this,H,ct).call(this,l)}getOptimisticResult(t){const e=s(this,b).getQueryCache().build(s(this,b),t),i=this.createResult(e,t);return Kt(this,i)&&(c(this,p,i),c(this,M,this.options),c(this,I,s(this,n).state)),i}getCurrentResult(){return s(this,p)}trackResult(t){const e={};return Object.keys(t).forEach(i=>{Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:()=>(s(this,B).add(i),t[i])})}),e}getCurrentQuery(){return s(this,n)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=s(this,b).defaultQueryOptions(t),i=s(this,b).getQueryCache().build(s(this,b),e);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,e))}fetch(t){return d(this,D,z).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),s(this,p)))}createResult(t,e){var mt;const i=s(this,n),f=this.options,r=s(this,p),l=s(this,I),v=s(this,M),A=t!==i?t.state:s(this,K),{state:h}=t;let{error:O,errorUpdatedAt:u,fetchStatus:y,status:g}=h,j=!1,m;if(e._optimisticResults){const _=this.hasListeners(),at=!_&&Rt(t,e),St=_&&Ot(t,i,e,f);(at||St)&&(y=It(t.options.networkMode)?"fetching":"paused",h.dataUpdatedAt||(g="pending")),e._optimisticResults==="isRestoring"&&(y="idle")}if(e.select&&typeof h.data<"u")if(r&&h.data===(l==null?void 0:l.data)&&e.select===s(this,W))m=s(this,P);else try{c(this,W,e.select),m=e.select(h.data),m=_t(r==null?void 0:r.data,m,e),c(this,P,m),c(this,R,null)}catch(_){c(this,R,_)}else m=h.data;if(typeof e.placeholderData<"u"&&typeof m>"u"&&g==="pending"){let _;if(r!=null&&r.isPlaceholderData&&e.placeholderData===(v==null?void 0:v.placeholderData))_=r.data;else if(_=typeof e.placeholderData=="function"?e.placeholderData((mt=s(this,L))==null?void 0:mt.state.data,s(this,L)):e.placeholderData,e.select&&typeof _<"u")try{_=e.select(_),c(this,R,null)}catch(at){c(this,R,at)}typeof _<"u"&&(g="success",m=_t(r==null?void 0:r.data,_,e),j=!0)}s(this,R)&&(O=s(this,R),m=s(this,P),u=Date.now(),g="error");const tt=y==="fetching",et=g==="pending",st=g==="error",bt=et&&tt;return{status:g,fetchStatus:y,isPending:et,isSuccess:g==="success",isError:st,isInitialLoading:bt,isLoading:bt,data:m,dataUpdatedAt:h.dataUpdatedAt,error:O,errorUpdatedAt:u,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>A.dataUpdateCount||h.errorUpdateCount>A.errorUpdateCount,isFetching:tt,isRefetching:tt&&!et,isLoadingError:st&&h.dataUpdatedAt===0,isPaused:y==="paused",isPlaceholderData:j,isRefetchError:st&&h.dataUpdatedAt!==0,isStale:pt(t,e),refetch:this.refetch}}updateResult(t){const e=s(this,p),i=this.createResult(s(this,n),this.options);if(c(this,I,s(this,n).state),c(this,M,this.options),s(this,I).data!==void 0&&c(this,L,s(this,n)),rt(i,e))return;c(this,p,i);const f={},r=()=>{if(!e)return!0;const{notifyOnChangeProps:l}=this.options,v=typeof l=="function"?l():l;if(v==="all"||!v&&!s(this,B).size)return!0;const k=new Set(v??s(this,B));return this.options.throwOnError&&k.add("error"),Object.keys(s(this,p)).some(A=>{const h=A;return s(this,p)[h]!==e[h]&&k.has(h)})};(t==null?void 0:t.listeners)!==!1&&r()&&(f.listeners=!0),d(this,Z,wt).call(this,{...f,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&d(this,q,ht).call(this)}},b=new WeakMap,n=new WeakMap,K=new WeakMap,p=new WeakMap,I=new WeakMap,M=new WeakMap,R=new WeakMap,W=new WeakMap,P=new WeakMap,L=new WeakMap,E=new WeakMap,x=new WeakMap,C=new WeakMap,B=new WeakMap,D=new WeakSet,z=function(t){d(this,X,dt).call(this);let e=s(this,n).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Tt)),e},N=new WeakSet,nt=function(){if(d(this,G,lt).call(this),yt||s(this,p).isStale||!gt(this.options.staleTime))return;const e=Qt(s(this,p).dataUpdatedAt,this.options.staleTime)+1;c(this,E,setTimeout(()=>{s(this,p).isStale||this.updateResult()},e))},V=new WeakSet,ot=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(s(this,n)):this.options.refetchInterval)??!1},H=new WeakSet,ct=function(t){d(this,J,ut).call(this),c(this,C,t),!(yt||this.options.enabled===!1||!gt(s(this,C))||s(this,C)===0)&&c(this,x,setInterval(()=>{(this.options.refetchIntervalInBackground||Ft.isFocused())&&d(this,D,z).call(this)},s(this,C)))},q=new WeakSet,ht=function(){d(this,N,nt).call(this),d(this,H,ct).call(this,d(this,V,ot).call(this))},G=new WeakSet,lt=function(){s(this,E)&&(clearTimeout(s(this,E)),c(this,E,void 0))},J=new WeakSet,ut=function(){s(this,x)&&(clearInterval(s(this,x)),c(this,x,void 0))},X=new WeakSet,dt=function(){const t=s(this,b).getQueryCache().build(s(this,b),this.options);if(t===s(this,n))return;const e=s(this,n);c(this,n,t),c(this,K,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},Z=new WeakSet,wt=function(t){Et.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(s(this,p))}),s(this,b).getQueryCache().notify({query:s(this,n),type:"observerResultsUpdated"})})},Ct);function zt(a,t){return t.enabled!==!1&&!a.state.dataUpdatedAt&&!(a.state.status==="error"&&t.retryOnMount===!1)}function Rt(a,t){return zt(a,t)||a.state.dataUpdatedAt>0&&ft(a,t,t.refetchOnMount)}function ft(a,t,e){if(t.enabled!==!1){const i=typeof e=="function"?e(a):e;return i==="always"||i!==!1&&pt(a,t)}return!1}function Ot(a,t,e,i){return e.enabled!==!1&&(a!==t||i.enabled===!1)&&(!e.suspense||a.state.status!=="error")&&pt(a,e)}function pt(a,t){return a.isStaleByTime(t.staleTime)}function Kt(a,t){return!rt(a.getCurrentResult(),t)}function Wt(a,t,e){const i=e||xt(),f=Dt(()=>{const u=$t(t);typeof u.enabled=="function"&&(u.enabled=u.enabled());const y=i.defaultQueryOptions(u);return y._optimisticResults=i.isRestoring.value?"isRestoring":"optimistic",y}),r=new a(i,f.value),l=kt(r.getCurrentResult());let v=()=>{};Y(i.isRestoring,u=>{u||(v(),v=r.subscribe(y=>{vt(l,y)}))},{immediate:!0});const k=()=>{r.setOptions(f.value),vt(l,r.getCurrentResult())};Y(f,k),At(()=>{v()});const A=(...u)=>(k(),l.refetch(...u)),h=()=>new Promise((u,y)=>{let g=()=>{};const j=()=>{if(f.value.enabled!==!1){r.setOptions(f.value);const m=r.getOptimisticResult(f.value);m.isStale?(g(),r.fetchOptimistic(f.value).then(u,y)):(g(),u(m))}};j(),g=Y(f,j)});Y(()=>l.error,u=>{if(l.isError&&!l.isFetching&&Mt(f.value.throwOnError,[u,r.getCurrentQuery()]))throw u});const O=Pt(Lt(l));for(const u in l)typeof l[u]=="function"&&(O[u]=l[u]);return O.suspense=h,O.refetch=A,O}function Gt(a,t){return Wt(jt,a,t)}const Nt={class:"w-full overflow-auto"},Jt=w({__name:"Table",props:{class:{}},setup(a){const t=a;return(e,i)=>(S(),U("div",Nt,[Bt("table",{class:T(Q(F)("w-full caption-bottom text-sm",t.class))},[$(e.$slots,"default")],2)]))}}),Xt=w({__name:"TableBody",props:{class:{}},setup(a){const t=a;return(e,i)=>(S(),U("tbody",{class:T(Q(F)("[&_tr:last-child]:border-0",t.class))},[$(e.$slots,"default")],2))}}),Yt=w({__name:"TableCell",props:{class:{}},setup(a){const t=a;return(e,i)=>(S(),U("td",{class:T(Q(F)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t.class))},[$(e.$slots,"default")],2))}}),Zt=w({__name:"TableHead",props:{class:{}},setup(a){const t=a;return(e,i)=>(S(),U("th",{class:T(Q(F)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t.class))},[$(e.$slots,"default")],2))}}),te=w({__name:"TableHeader",props:{class:{}},setup(a){const t=a;return(e,i)=>(S(),U("thead",{class:T(Q(F)("[&_tr]:border-b",t.class))},[$(e.$slots,"default")],2))}}),ee=w({__name:"TableRow",props:{class:{}},setup(a){const t=a;return(e,i)=>(S(),U("tr",{class:T(Q(F)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t.class))},[$(e.$slots,"default")],2))}}),se=w({__name:"TableCaption",props:{class:{}},setup(a){const t=a;return(e,i)=>(S(),U("caption",{class:T(Q(F)("mt-4 text-sm text-muted-foreground",t.class))},[$(e.$slots,"default")],2))}}),ae=w({__name:"Skeleton",props:{class:{}},setup(a){const t=a;return(e,i)=>(S(),U("div",{class:T(Q(F)("animate-pulse rounded-md bg-secondary",t.class))},null,2))}});export{se as _,te as a,ee as b,Zt as c,Xt as d,Yt as e,ae as f,Jt as g,Gt as u};
