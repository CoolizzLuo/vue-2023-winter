import{p as c,v as i,E as d,H as u,A as p,B as s,C as _,ao as B,ap as E,z as e,y as a,G as h,N as m,D as $,a2 as N,am as j,an as z,a3 as D}from"./index-ZFTV_A0L.js";import{z as g,t as T,a as A,F as b,b as y,c as C,d as v,_ as L,e as P}from"./vee-validate-zod.esm-H1hJ9frw.js";const H=c({__name:"Card",props:{class:{type:String,default:""}},setup(l){const n=l;return(t,o)=>(i(),d("div",{class:p(s(_)("rounded-lg border bg-card text-card-foreground shadow-sm",n.class))},[u(t.$slots,"default")],2))}}),M=c({__name:"CardHeader",props:{class:{type:String,default:""}},setup(l){const n=l;return(t,o)=>(i(),d("div",{class:p(s(_)("flex flex-col space-y-1.5 p-6",n.class))},[u(t.$slots,"default")],2))}}),G=c({__name:"CardTitle",props:{class:{type:String,default:""}},setup(l){const n=l;return(t,o)=>(i(),d("h3",{class:p(s(_)("text-2xl font-semibold leading-none tracking-tighter",n.class))},[u(t.$slots,"default")],2))}}),U=c({__name:"CardContent",props:{class:{type:String,default:""}},setup(l){const n=l;return(t,o)=>(i(),d("div",{class:p(s(_)("p-6 pt-0",n.class))},[u(t.$slots,"default")],2))}}),q=c({__name:"CardFooter",props:{class:{type:String,default:""}},setup(l){const n=l;return(t,o)=>(i(),d("div",{class:p(s(_)("p-6 pt-0",n.class))},[u(t.$slots,"default")],2))}}),I=g.object({email:g.string().email(),password:g.string().min(8,{message:"Password must be at least 8 characters long."})}),J=T(I),K={class:"h-screen flex justify-center items-center"},O=h("span",null," Login ",-1),W=c({__name:"LoginView",setup(l){const n=B(),{isPending:t,isError:o,error:F,mutateAsync:V}=n.useLoginMutation(),{handleSubmit:k}=A({validationSchema:J}),x=k(async w=>{const{email:f,password:r}=w,S=await V({username:f,password:r});S.status===200&&S.data.token&&E.push("/")});return(w,f)=>(i(),d("div",K,[e(s(H),{class:"w-[350px]"},{default:a(()=>[h("form",{onSubmit:f[0]||(f[0]=(...r)=>s(x)&&s(x)(...r))},[e(s(M),{class:"text-center"},{default:a(()=>[e(s(G),null,{default:a(()=>[m("Login Form")]),_:1})]),_:1}),e(s(U),{class:"flex flex-col gap-4"},{default:a(()=>[e(s(b),{name:"email"},{default:a(({componentField:r})=>[e(s(y),null,{default:a(()=>[e(s(C),null,{default:a(()=>[m("Email")]),_:1}),e(s(v),null,{default:a(()=>[e(s(L),$({type:"text",placeholder:"Please input email"},r),null,16)]),_:2},1024),e(s(P))]),_:2},1024)]),_:1}),e(s(b),{name:"password"},{default:a(({componentField:r})=>[e(s(y),null,{default:a(()=>[e(s(C),null,{default:a(()=>[m("Password")]),_:1}),e(s(v),null,{default:a(()=>[e(s(L),$({type:"password",placeholder:"Please input Password"},r),null,16)]),_:2},1024),e(s(P))]),_:2},1024)]),_:1})]),_:1}),e(s(q),{class:"flex flex-col gap-4 justify-between px-6 pb-4"},{default:a(()=>[e(s(N),{class:"w-full",disabled:s(t),isLoading:s(t)},{default:a(()=>[O]),_:1},8,["disabled","isLoading"]),j(h("p",{class:"text-center text-red-400 font-bold"},D(s(F)),513),[[z,s(o)]])]),_:1})],32)]),_:1})]))}});export{W as default};
