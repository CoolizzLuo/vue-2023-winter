var it=(a,t,e)=>{if(!t.has(a))throw TypeError("Cannot "+e)};var s=(a,t,e)=>(it(a,t,"read from private field"),e?e.call(a):t.get(a)),o=(a,t,e)=>{if(t.has(a))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(a):t.set(a,e)},c=(a,t,e,i)=>(it(a,t,"write to private field"),i?i.call(a,e):t.set(a,e),e);var d=(a,t,e)=>(it(a,t,"access private method"),e);import{a1 as St,a2 as rt,a3 as Qt,a4 as yt,a5 as gt,a6 as Tt,a7 as Et,a8 as Ft,a9 as _t,aa as It,$ as Dt,z as xt,ab as $t,ac as kt,w as X,ad as Rt,ae as Pt,af as At,ag as Mt,ah as Lt,d as U,e as w,f as S,l as Bt,g as $,j as Q,u as T,k as E}from"./index-JwG2W6Hd.js";var b,n,z,p,F,A,v,W,M,L,I,D,C,B,x,K,N,nt,V,ot,H,ct,Y,ht,q,ut,G,lt,J,dt,Z,Ut,Ct,jt=(Ct=class extends St{constructor(t,e){super();o(this,x);o(this,N);o(this,V);o(this,H);o(this,Y);o(this,q);o(this,G);o(this,J);o(this,Z);o(this,b,void 0);o(this,n,void 0);o(this,z,void 0);o(this,p,void 0);o(this,F,void 0);o(this,A,void 0);o(this,v,void 0);o(this,W,void 0);o(this,M,void 0);o(this,L,void 0);o(this,I,void 0);o(this,D,void 0);o(this,C,void 0);o(this,B,new Set);this.options=e,c(this,b,t),c(this,v,null),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(s(this,n).addObserver(this),vt(s(this,n),this.options)?d(this,x,K).call(this):this.updateResult(),d(this,Y,ht).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ft(s(this,n),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ft(s(this,n),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,d(this,q,ut).call(this),d(this,G,lt).call(this),s(this,n).removeObserver(this)}setOptions(t,e){const i=this.options,f=s(this,n);if(this.options=s(this,b).defaultQueryOptions(t),rt(i,this.options)||s(this,b).getQueryCache().notify({type:"observerOptionsUpdated",query:s(this,n),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),d(this,J,dt).call(this);const r=this.hasListeners();r&&Ot(s(this,n),f,this.options,i)&&d(this,x,K).call(this),this.updateResult(e),r&&(s(this,n)!==f||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&d(this,N,nt).call(this);const u=d(this,V,ot).call(this);r&&(s(this,n)!==f||this.options.enabled!==i.enabled||u!==s(this,C))&&d(this,H,ct).call(this,u)}getOptimisticResult(t){const e=s(this,b).getQueryCache().build(s(this,b),t),i=this.createResult(e,t);return zt(this,i)&&(c(this,p,i),c(this,A,this.options),c(this,F,s(this,n).state)),i}getCurrentResult(){return s(this,p)}trackResult(t){const e={};return Object.keys(t).forEach(i=>{Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:()=>(s(this,B).add(i),t[i])})}),e}getCurrentQuery(){return s(this,n)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=s(this,b).defaultQueryOptions(t),i=s(this,b).getQueryCache().build(s(this,b),e);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,e))}fetch(t){return d(this,x,K).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),s(this,p)))}createResult(t,e){var mt;const i=s(this,n),f=this.options,r=s(this,p),u=s(this,F),R=s(this,A),P=t!==i?t.state:s(this,z),{state:h}=t;let{error:O,errorUpdatedAt:l,fetchStatus:y,status:g}=h,j=!1,m;if(e._optimisticResults){const _=this.hasListeners(),at=!_&&vt(t,e),wt=_&&Ot(t,i,e,f);(at||wt)&&(y=Ft(t.options.networkMode)?"fetching":"paused",h.dataUpdatedAt||(g="pending")),e._optimisticResults==="isRestoring"&&(y="idle")}if(e.select&&typeof h.data<"u")if(r&&h.data===(u==null?void 0:u.data)&&e.select===s(this,W))m=s(this,M);else try{c(this,W,e.select),m=e.select(h.data),m=_t(r==null?void 0:r.data,m,e),c(this,M,m),c(this,v,null)}catch(_){c(this,v,_)}else m=h.data;if(typeof e.placeholderData<"u"&&typeof m>"u"&&g==="pending"){let _;if(r!=null&&r.isPlaceholderData&&e.placeholderData===(R==null?void 0:R.placeholderData))_=r.data;else if(_=typeof e.placeholderData=="function"?e.placeholderData((mt=s(this,L))==null?void 0:mt.state.data,s(this,L)):e.placeholderData,e.select&&typeof _<"u")try{_=e.select(_),c(this,v,null)}catch(at){c(this,v,at)}typeof _<"u"&&(g="success",m=_t(r==null?void 0:r.data,_,e),j=!0)}s(this,v)&&(O=s(this,v),m=s(this,M),l=Date.now(),g="error");const tt=y==="fetching",et=g==="pending",st=g==="error",bt=et&&tt;return{status:g,fetchStatus:y,isPending:et,isSuccess:g==="success",isError:st,isInitialLoading:bt,isLoading:bt,data:m,dataUpdatedAt:h.dataUpdatedAt,error:O,errorUpdatedAt:l,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>P.dataUpdateCount||h.errorUpdateCount>P.errorUpdateCount,isFetching:tt,isRefetching:tt&&!et,isLoadingError:st&&h.dataUpdatedAt===0,isPaused:y==="paused",isPlaceholderData:j,isRefetchError:st&&h.dataUpdatedAt!==0,isStale:pt(t,e),refetch:this.refetch}}updateResult(t){const e=s(this,p),i=this.createResult(s(this,n),this.options);if(c(this,F,s(this,n).state),c(this,A,this.options),s(this,F).data!==void 0&&c(this,L,s(this,n)),rt(i,e))return;c(this,p,i);const f={},r=()=>{if(!e)return!0;const{notifyOnChangeProps:u}=this.options,R=typeof u=="function"?u():u;if(R==="all"||!R&&!s(this,B).size)return!0;const k=new Set(R??s(this,B));return this.options.throwOnError&&k.add("error"),Object.keys(s(this,p)).some(P=>{const h=P;return s(this,p)[h]!==e[h]&&k.has(h)})};(t==null?void 0:t.listeners)!==!1&&r()&&(f.listeners=!0),d(this,Z,Ut).call(this,{...f,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&d(this,Y,ht).call(this)}},b=new WeakMap,n=new WeakMap,z=new WeakMap,p=new WeakMap,F=new WeakMap,A=new WeakMap,v=new WeakMap,W=new WeakMap,M=new WeakMap,L=new WeakMap,I=new WeakMap,D=new WeakMap,C=new WeakMap,B=new WeakMap,x=new WeakSet,K=function(t){d(this,J,dt).call(this);let e=s(this,n).fetch(this.options,t);return t!=null&&t.throwOnError||(e=e.catch(Qt)),e},N=new WeakSet,nt=function(){if(d(this,q,ut).call(this),yt||s(this,p).isStale||!gt(this.options.staleTime))return;const e=Tt(s(this,p).dataUpdatedAt,this.options.staleTime)+1;c(this,I,setTimeout(()=>{s(this,p).isStale||this.updateResult()},e))},V=new WeakSet,ot=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(s(this,n)):this.options.refetchInterval)??!1},H=new WeakSet,ct=function(t){d(this,G,lt).call(this),c(this,C,t),!(yt||this.options.enabled===!1||!gt(s(this,C))||s(this,C)===0)&&c(this,D,setInterval(()=>{(this.options.refetchIntervalInBackground||Et.isFocused())&&d(this,x,K).call(this)},s(this,C)))},Y=new WeakSet,ht=function(){d(this,N,nt).call(this),d(this,H,ct).call(this,d(this,V,ot).call(this))},q=new WeakSet,ut=function(){s(this,I)&&(clearTimeout(s(this,I)),c(this,I,void 0))},G=new WeakSet,lt=function(){s(this,D)&&(clearInterval(s(this,D)),c(this,D,void 0))},J=new WeakSet,dt=function(){const t=s(this,b).getQueryCache().build(s(this,b),this.options);if(t===s(this,n))return;const e=s(this,n);c(this,n,t),c(this,z,t.state),this.hasListeners()&&(e==null||e.removeObserver(this),t.addObserver(this))},Z=new WeakSet,Ut=function(t){It.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(s(this,p))}),s(this,b).getQueryCache().notify({query:s(this,n),type:"observerResultsUpdated"})})},Ct);function Kt(a,t){return t.enabled!==!1&&!a.state.dataUpdatedAt&&!(a.state.status==="error"&&t.retryOnMount===!1)}function vt(a,t){return Kt(a,t)||a.state.dataUpdatedAt>0&&ft(a,t,t.refetchOnMount)}function ft(a,t,e){if(t.enabled!==!1){const i=typeof e=="function"?e(a):e;return i==="always"||i!==!1&&pt(a,t)}return!1}function Ot(a,t,e,i){return e.enabled!==!1&&(a!==t||i.enabled===!1)&&(!e.suspense||a.state.status!=="error")&&pt(a,e)}function pt(a,t){return a.isStaleByTime(t.staleTime)}function zt(a,t){return!rt(a.getCurrentResult(),t)}function Wt(a,t,e){const i=e||Dt(),f=xt(()=>{const l=$t(t);typeof l.enabled=="function"&&(l.enabled=l.enabled());const y=i.defaultQueryOptions(l);return y._optimisticResults=i.isRestoring.value?"isRestoring":"optimistic",y}),r=new a(i,f.value),u=kt(r.getCurrentResult());let R=()=>{};X(i.isRestoring,l=>{l||(R(),R=r.subscribe(y=>{Rt(u,y)}))},{immediate:!0});const k=()=>{r.setOptions(f.value),Rt(u,r.getCurrentResult())};X(f,k),Pt(()=>{R()});const P=(...l)=>(k(),u.refetch(...l)),h=()=>new Promise((l,y)=>{let g=()=>{};const j=()=>{if(f.value.enabled!==!1){r.setOptions(f.value);const m=r.getOptimisticResult(f.value);m.isStale?(g(),r.fetchOptimistic(f.value).then(l,y)):(g(),l(m))}};j(),g=X(f,j)});X(()=>u.error,l=>{if(u.isError&&!u.isFetching&&At(f.value.throwOnError,[l,r.getCurrentQuery()]))throw l});const O=Mt(Lt(u));for(const l in u)typeof u[l]=="function"&&(O[l]=u[l]);return O.suspense=h,O.refetch=P,O}function qt(a,t){return Wt(jt,a,t)}const Nt={class:"w-full overflow-auto"},Gt=U({__name:"Table",props:{class:{}},setup(a){const t=a;return(e,i)=>(w(),S("div",Nt,[Bt("table",{class:Q(T(E)("w-full caption-bottom text-sm",t.class))},[$(e.$slots,"default")],2)]))}}),Jt=U({__name:"TableBody",props:{class:{}},setup(a){const t=a;return(e,i)=>(w(),S("tbody",{class:Q(T(E)("[&_tr:last-child]:border-0",t.class))},[$(e.$slots,"default")],2))}}),Xt=U({__name:"TableCell",props:{class:{}},setup(a){const t=a;return(e,i)=>(w(),S("td",{class:Q(T(E)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t.class))},[$(e.$slots,"default")],2))}}),Zt=U({__name:"TableHead",props:{class:{}},setup(a){const t=a;return(e,i)=>(w(),S("th",{class:Q(T(E)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t.class))},[$(e.$slots,"default")],2))}}),te=U({__name:"TableHeader",props:{class:{}},setup(a){const t=a;return(e,i)=>(w(),S("thead",{class:Q(T(E)("[&_tr]:border-b",t.class))},[$(e.$slots,"default")],2))}}),ee=U({__name:"TableRow",props:{class:{}},setup(a){const t=a;return(e,i)=>(w(),S("tr",{class:Q(T(E)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t.class))},[$(e.$slots,"default")],2))}}),se=U({__name:"TableCaption",props:{class:{}},setup(a){const t=a;return(e,i)=>(w(),S("caption",{class:Q(T(E)("mt-4 text-sm text-muted-foreground",t.class))},[$(e.$slots,"default")],2))}}),ae=U({__name:"Skeleton",props:{class:{}},setup(a){const t=a;return(e,i)=>(w(),S("div",{class:Q(T(E)("animate-pulse rounded-md bg-secondary",t.class))},null,2))}}),ie={PRODUCTS:"products"};export{ie as Q,se as _,te as a,ee as b,Zt as c,Jt as d,Xt as e,ae as f,Gt as g,qt as u};
